<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The Oklahoma Observer</title>

  <!-- Brand & Theme -->
  <meta name="theme-color" content="#1E73BE" />
  <meta name="description" content="To comfort the afflicted and afflict the comfortable. The Oklahoma Observer – independent journalism since 1969." />

  <!-- PWA Manifest -->
  <link rel="manifest" href="./manifest.json?v=2025-10-30q" />

  <!-- Icons -->
  <link rel="icon" href="./favicon.ico" />
  <link rel="apple-touch-icon" sizes="192x192" href="./icon-192.png" />
  <link rel="apple-touch-icon" sizes="512x512" href="./icon-512.png" />

  <!-- Preconnect (faster proxy access) -->
  <link rel="preconnect" href="https://okobserver-proxy.bob-b5c.workers.dev" crossorigin />
  <link rel="dns-prefetch" href="https://okobserver-proxy.bob-b5c.workers.dev" />

  <!-- Styles -->
  <link rel="stylesheet" href="./override.css?v=2025-10-30q" />

  <!-- Social Metadata -->
  <meta property="og:title" content="The Oklahoma Observer" />
  <meta property="og:description" content="Independent journalism since 1969." />
  <meta property="og:image" content="./icon-512.png" />
  <meta property="og:type" content="website" />
</head>
<body>
  <!-- Header -->
  <header class="site-header">
    <div class="brand">
      <img src="./logo.png" alt="The Oklahoma Observer logo" class="logo" />
      <p class="motto">To comfort the afflicted and afflict the comfortable</p>
    </div>

    <!-- Hamburger Toggle -->
    <button id="navToggle" class="nav-toggle" aria-label="Toggle navigation" aria-controls="mainNav" aria-expanded="false">
      <span class="nav-toggle-bar"></span>
      <span class="nav-toggle-bar"></span>
      <span class="nav-toggle-bar"></span>
    </button>

    <!-- Navigation -->
    <nav class="main-nav" id="mainNav">
      <a href="#/">Posts</a>
      <a href="#/about">About</a>
      <a href="#/settings">Settings</a>
    </nav>
  </header>

  <main id="app" class="app fade-in" role="main"></main>

  <footer>
    <div class="build-tag">OkObserver Build v2025-10-30q</div>
  </footer>

  <!-- Passive offline toast -->
  <div id="net-toast" class="net-toast" role="status" aria-live="polite" hidden>
    You’re offline. Showing cached content.
  </div>

  <!-- Navigation JS -->
  <script>
    const navToggle = document.getElementById('navToggle');
    const mainNav = document.getElementById('mainNav');
    navToggle.addEventListener('click', () => {
      const open = document.body.classList.toggle('nav-open');
      navToggle.setAttribute('aria-expanded', open ? 'true' : 'false');
    });
    mainNav.querySelectorAll('a').forEach(a =>
      a.addEventListener('click', () => {
        document.body.classList.remove('nav-open');
        navToggle.setAttribute('aria-expanded', 'false');
      })
    );
  </script>

  <!-- App Logic -->
  <script src="./main.js?v=2025-10-30q"></script>
</body>
</html>
