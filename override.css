/* override.css â€” v2025-10-30q
   Unified UX and performance upgrades:
   - Centered logo + motto, right-justified hamburger
   - Fade-in + skeleton animation hooks
   - Lazy media and click-to-play videos
   - Locked 4/3/1 grid, unbreakable
   - Tag chips under posts
   - Optimized paint & content-visibility
*/

:root{
  --blue:#2085f5;
  --ink:#111;
  --muted:#6b7280;
  --bg:#fff;
  --card:#ffffff;
  --shadow:0 1px 4px rgba(0,0,0,.08);
  --radius:14px;
  --max:1200px;
}

*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji"}
img{max-width:100%;height:auto;display:block}

/* === Header === */
.site-header{
  background:var(--blue);
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:space-between;
  flex-wrap:wrap;
  padding:0.5rem 1rem;
  margin:0 0 12px;
  box-shadow:0 2px 6px rgba(0,0,0,.1);
}
.site-header .brand{
  flex:1 1 auto;
  display:flex;
  flex-direction:column;
  align-items:center;
  text-align:center;
}
.site-header .brand img{
  max-width:140px;
  height:auto;
}
.site-header .motto{
  margin-top:0.25rem;
  font-size:0.95rem;
  font-style:italic;
  color:#f0f0f0;
  text-align:center;
  line-height:1.3;
}
@media(max-width:600px){
  .site-header .brand img{max-width:110px}
  .site-header .motto{font-size:0.8rem;margin-top:0.15rem;line-height:1.2}
}

/* Hamburger */
.nav-toggle{
  margin-left:auto;
  order:2;
  background:none;
  border:none;
  cursor:pointer;
  padding:0.5rem;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
}
.nav-toggle-bar{
  width:22px;height:2px;background-color:#fff;margin:3px 0;border-radius:2px;
}
.main-nav{display:flex;gap:18px;justify-content:flex-end;margin:0}
.main-nav a{color:#fff;text-decoration:none;padding:6px 10px;border-radius:8px}
.main-nav a:hover{background:rgba(255,255,255,.15)}
@media(max-width:900px){
  .main-nav{
    display:none;
    position:absolute;
    right:16px;top:100%;
    background:var(--blue);
    padding:8px 10px;
    border-radius:12px;
    box-shadow:0 8px 20px rgba(0,0,0,.2);
    flex-direction:column;
    gap:8px;
    z-index:1000;
    min-width:160px;
  }
  body.nav-open .main-nav{display:flex}
}

/* === Grid (hard 4/3/1 lock) === */
.post-grid{
  display:grid!important;
  gap:18px;
  grid-template-columns:repeat(1,minmax(0,1fr))!important;
}
@media(min-width:768px){
  .post-grid{grid-template-columns:repeat(3,minmax(0,1fr))!important}
}
@media(min-width:1200px){
  .post-grid{grid-template-columns:repeat(4,minmax(0,1fr))!important}
}

/* Cards */
.card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden;min-width:0}
.card-media img{width:100%;display:block;object-fit:contain;border-radius:0.5rem;background-color:#fff}
.card-body{padding:12px 14px}
.card-title{margin:0 0 4px;font-size:1.05rem}
.card-title a{color:inherit;text-decoration:none}
.card-title a:hover{text-decoration:underline}
.meta{color:var(--muted);font-size:.9rem}
.post-grid .card{content-visibility:auto;contain-intrinsic-size:300px 220px}

/* === Buttons === */
.btn{display:inline-block;text-decoration:none;border-radius:10px;padding:10px 14px;cursor:pointer}
.btn-primary{background:var(--blue);color:#fff}
.btn-primary:hover{filter:brightness(1.05)}
.back-top,.back-bottom{text-align:left;margin:1.5rem 0}
.back-btn{display:inline-block;padding:.6rem 1.4rem;border-radius:999px;font-weight:600}
.post-detail .back-btn{align-self:flex-start}

/* === Post Detail === */
.post-detail{
  background:#fff;
  max-width:920px;
  margin:24px auto;
  border-radius:18px;
  box-shadow:0 2px 10px rgba(0,0,0,.06);
  padding:18px;
  animation:fadeIn .28s ease both;
}
@media(min-width:768px){.post-detail{padding:24px 28px 18px 28px}}
.post-header{margin:0 0 10px}
.post-title{margin:8px 0 6px}
.post-byline{color:var(--muted);font-size:.95rem}
.post-body{line-height:1.7;padding:10px 0 34px}
.post-body img{border-radius:12px;box-shadow:var(--shadow)}
.post-body iframe{max-width:100%}

/* === Video / Media === */
.video-wrapper{position:relative;width:100%;aspect-ratio:16/9;background:#000;border-radius:8px;overflow:hidden}
.video-wrapper iframe,.video-wrapper video{width:100%;height:100%;display:block}
.hero-media.is-image{position:relative}
.hero-media.is-image img{width:100%;height:auto;display:block;border-radius:8px}
.play-overlay{
  position:absolute;inset:0;display:grid;place-items:center;
  background:linear-gradient(transparent,rgba(0,0,0,.25));
  cursor:pointer;
}
.play-overlay::after{
  content:'';width:64px;height:64px;
  border-left:22px solid #fff;
  border-top:14px solid transparent;
  border-bottom:14px solid transparent;
  opacity:.9;
  filter:drop-shadow(0 2px 4px rgba(0,0,0,.4));
}
@media(max-width:600px){.play-overlay::after{width:48px;height:48px;border-left-width:18px}}

/* === Tags === */
.post-tags{margin:1.5rem auto 2rem;padding-top:1rem;border-top:1px solid #ddd}
.tag-title{font-weight:600;margin-bottom:0.5rem}
.tag-list{list-style:none;padding:0;display:flex;flex-wrap:wrap;gap:0.5rem}
.tag-pill{
  background:#e9f2ff;
  color:#1e90ff;
  border-radius:12px;
  padding:0.25rem 0.6rem;
  font-size:0.9rem;
  white-space:nowrap;
}

/* === Paywall Note === */
.paywall-note{
  background:#f7f9ff;
  border:1px solid #cdd9ff;
  border-radius:10px;
  padding:14px 18px;
  margin:14px 0 22px;
}

/* === Fade-in & Skeleton === */
.fade-in{animation:fadeIn .28s ease both}
@keyframes fadeIn{from{opacity:0;transform:translateY(4px)}to{opacity:1;transform:none}}
.skeleton{position:relative;overflow:hidden;background:#eee;border-radius:10px}
.skeleton::after{
  content:"";position:absolute;inset:0;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.55),transparent);
  animation:shimmer 1.2s infinite;
}
@keyframes shimmer{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}
.skeleton-media{height:280px;border-radius:12px}
.skeleton-text{height:1em}
.skeleton-text-lg{height:1.8em}
.skeleton-line{height:.9em;margin:.4em 0}
.skeleton-line.short{width:60%}

/* === Mobile Detail Padding === */
@media(max-width:768px){
  .post-body.container,
  .post-header.container,
  .hero-media.container,
  .back-top.container,
  .back-bottom.container{
    padding-left:1rem;
    padding-right:1rem;
  }
  .post-body.container{line-height:1.6}
}
@media(max-width:480px){
  .post-body.container,
  .post-header.container{
    padding-left:.9rem;
    padding-right:.9rem;
  }
}

/* === Passive Offline Toast === */
.net-toast{
  position:fixed; left:50%; transform:translateX(-50%) translateY(6px);
  bottom:16px; z-index:2000;
  background:#1E73BE; color:#fff; padding:10px 14px;
  border-radius:10px; box-shadow:0 6px 20px rgba(0,0,0,.18);
  font-weight:600; opacity:0; pointer-events:none; transition:opacity .2s ease, transform .2s ease;
}
.net-toast.show{ opacity:1; transform:translateX(-50%) translateY(0) }
