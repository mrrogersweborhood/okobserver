/* ==========================================================================
   OkObserver — override.css  (2025-10-31)
   Goals:
   - Hamburger-only navigation on ALL breakpoints
   - Stable 4 / 3 / 1 post grid
   - Thumbnail images fit INSIDE card without vertical crop
   - Responsive video/embeds on post detail
   - Clean spacing & readable typography
   - Left-justified “Back to Posts” button on all devices
   ========================================================================== */

/* ---------- CSS Variables ---------- */
:root{
  --ok-blue: #1E90FF;
  --ok-blue-600:#1d6fe6;
  --ok-ink:#0f172a;
  --ok-ink-2:#334155;
  --ok-muted:#64748b;
  --ok-bg:#ffffff;
  --ok-card:#ffffff;
  --ok-border:#e5e7eb;
  --ok-soft:#f6f7fb;
  --radius-lg:16px;
  --radius-md:12px;
  --radius-sm:10px;
  --shadow-1:0 2px 10px rgba(0,0,0,.06);
  --shadow-2:0 8px 30px rgba(17,24,39,.08);
  --content-max:1200px;
}

/* ---------- Base ---------- */
html,body{margin:0;padding:0;background:var(--ok-bg);color:var(--ok-ink);}
body{
  font: 400 16px/1.55 system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}

a{color:var(--ok-blue); text-decoration:none;}
a:hover{text-decoration:underline;}

/* ---------- Header / Brand ---------- */
.site-header{background:var(--ok-blue); color:#fff;}
.site-header .wrap{
  max-width:var(--content-max);
  margin:0 auto;
  padding:16px 16px 10px;
  display:grid;
  grid-template-columns: 1fr auto;
  align-items:center;
  gap:12px;
}
.site-logo{height:54px; width:auto; display:block;}
.site-motto{margin:0; font-size:14px; opacity:.95; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}

/* Hamburger always visible */
.hamburger{
  border:0; background:transparent; color:#fff; font-size:24px; line-height:1;
  cursor:pointer; padding:6px 8px; border-radius:8px;
}
.hamburger:focus-visible{outline:2px solid #fff; outline-offset:2px;}

/* Hide inline textual links on ALL sizes => hamburger-only layout */
.inline-links{ display:none !important; }

/* Compact dropdown menu (appears under the button, right aligned) */
.menu-dropdown{
  position:absolute; right:0; top:calc(100% + 8px);
  min-width:180px; background:#fff; color:#111;
  border-radius:12px; box-shadow:var(--shadow-2);
  padding:8px; display:none; z-index:50;
}
.menu-dropdown.open{ display:block; }
.menu-dropdown a{
  display:block; padding:10px 12px; border-radius:8px;
  color:#111; text-decoration:none; font-weight:600;
}
.menu-dropdown a:hover, .menu-dropdown a:focus{ background:#f1f5ff; outline:none; }
.menu-caret{
  position:absolute; right:12px; top:-6px; width:12px; height:12px;
  background:#fff; transform:rotate(45deg); box-shadow:-2px -2px 4px rgba(0,0,0,.06);
}

/* ---------- App Shell ---------- */
#app{min-height:60vh;}

/* ---------- Footer ---------- */
.site-footer{max-width:var(--content-max); margin:40px auto 60px; padding:0 16px; color:var(--ok-muted);}

/* ========================================================================== */
/*                               HOME / LIST                                 */
/* ========================================================================== */

.container{
  max-width:var(--content-max);
  margin:18px auto 24px;
  padding:0 16px;
}

/* Grid: 4 / 3 / 1 columns with comfortable gaps */
.posts-grid{
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap:20px;
}
@media (max-width: 1100px){
  .posts-grid{ grid-template-columns: repeat(3, 1fr); }
}
@media (max-width: 700px){
  .posts-grid{ grid-template-columns: 1fr; }
}

/* Card */
.card{
  background:var(--ok-card); border:1px solid var(--ok-border);
  border-radius:var(--radius-lg); box-shadow:var(--shadow-1);
  overflow:hidden; display:flex; flex-direction:column;
  transition: box-shadow .2s ease, transform .04s ease;
}
.card:hover{ box-shadow:var(--shadow-2); transform: translateY(-1px); }
.card-body{ padding:14px 16px 16px; }

/* Thumbnail wrapper uses aspect-ratio to stabilize layout */
.thumb{
  background:var(--ok-soft);
  aspect-ratio: 16/11;      /* a little taller than 16:9 to reduce vertical crop */
  width:100%;
  overflow:hidden;
  display:block;
}
.thumb > img{
  width:100%; height:100%; display:block;
  object-fit: contain;      /* <= FIT image inside without cropping vertically */
  object-position:center center;
  background:var(--ok-soft);
}

/* Title, byline, excerpt */
.card-title{
  margin:6px 0 6px; font-size:18px; line-height:1.25; color:var(--ok-ink);
}
.byline{ color:var(--ok-muted); font-size:14px; margin:0 0 6px; }
.excerpt{
  color:var(--ok-ink-2); margin:6px 0 0;
}

/* “No image” placeholder look */
.thumb.no-image{
  display:flex; align-items:center; justify-content:center;
  color:var(--ok-muted); font-weight:600; letter-spacing:.2px;
}

/* ========================================================================== */
/*                             POST DETAIL VIEW                               */
/* ========================================================================== */

.post-wrap{
  max-width: 860px;
  margin: 18px auto 24px;
  padding: 0 16px;            /* prevent text touching the left edge on mobile */
}
.post-title{
  font-size: clamp(24px, 3vw, 34px);
  line-height: 1.18;
  margin: 10px 0 10px;
  color: var(--ok-ink);
}
.post-byline{ color:var(--ok-muted); margin:0 0 16px; }

/* Hero media: image or video area above the article */
.post-hero{
  margin: 8px 0 16px;
  border-radius: var(--radius-lg);
  overflow: hidden;
  background: var(--ok-soft);
  border: 1px solid var(--ok-border);
}

/* Hero image fits without cropping */
.post-hero img{
  display:block; max-width:100%; height:auto; width:100%;
  object-fit: contain;
}

/* Responsive iframe/video: 16:9 box that scales */
.video-embed{
  position:relative; width:100%; aspect-ratio:16/9; background:#000;
}
.video-embed iframe,
.video-embed video{
  position:absolute; inset:0; width:100%; height:100%;
  border:0; display:block;
}

/* Article content */
.post-content{
  color:var(--ok-ink-2);
  line-height:1.7;
}
.post-content img{
  max-width:100%; height:auto; display:block; margin:10px auto;
}
.post-content figure{ margin:0; }
.post-content h2, .post-content h3{ color:var(--ok-ink); }

/* Back button — always left-justified */
.back-row{ margin:20px 0 0; }
.btn-back{
  display:inline-block;
  background:var(--ok-blue); color:#fff; text-decoration:none;
  padding:10px 14px; border-radius:10px; font-weight:600;
  border:1px solid rgba(255,255,255,.25);
}
.btn-back:hover{ background:var(--ok-blue-600); text-decoration:none; }

/* Tags */
.tags{ margin-top:28px; }
.tags h3{ margin:0 0 10px; font-size:15px; color:var(--ok-muted); }
.tags ul{ list-style:none; padding:0; margin:0; display:flex; flex-wrap:wrap; gap:8px; }
.tags li{ margin:0; }
.tag-pill{
  display:inline-block; padding:6px 10px; border-radius:999px;
  background:#eef2ff; color:#3730a3; font-weight:600; font-size:13px;
  border:1px solid #e0e7ff;
}

/* Paywall notice box (when content is protected) */
.notice{
  background:#f8fafc; border:1px solid var(--ok-border);
  border-radius:12px; padding:12px 14px; color:#0f172a; margin:0 0 12px;
}

/* ========================================================================== */
/*                                UTILITIES                                   */
/* ========================================================================== */

.mt-0{margin-top:0}
.mt-8{margin-top:8px}
.mt-12{margin-top:12px}
.mt-16{margin-top:16px}
.mb-0{margin-bottom:0}
.mb-8{margin-bottom:8px}
.px-16{padding-left:16px; padding-right:16px}

/* Soft card look for any generic panel */
.panel{
  background:var(--ok-card);
  border:1px solid var(--ok-border);
  border-radius:var(--radius-lg);
  box-shadow:var(--shadow-1);
  padding:14px 16px;
}

/* ========================================================================== */
/*                      SAFETY / HARDENING AGAINST BREAKS                     */
/* ========================================================================== */

/* Ensure grid never collapses to 2 columns on desktop unexpectedly */
@media (min-width:1101px){
  .posts-grid{ grid-template-columns: repeat(4, 1fr) !important; }
}

/* Guard: if a theme style forces thumbnails taller, keep contain behavior */
.thumb > img{ object-fit:contain !important; }

/* Guard: prevent any global img { max-height:... } rules from squashing hero */
.post-hero img{ max-height:none !important; }

/* Guard: ensure dropdown stays on top of cards */
.menu-dropdown{ z-index: 1000 !important; }
/* --- Compatibility with current Home.js markup --- */
.post-grid{ display:grid; grid-template-columns:repeat(4,1fr); gap:20px; }
@media (max-width:1100px){ .post-grid{ grid-template-columns:repeat(3,1fr); } }
@media (max-width:700px){ .post-grid{ grid-template-columns:1fr; } }

/* Make list thumbnails fit inside without cropping */
.card-media{
  display:block; width:100%;
  background:var(--ok-soft);
  aspect-ratio:16/11;        /* stabilize card height */
  overflow:hidden; border-bottom:1px solid var(--ok-border);
}
.card-media img{
  width:100%; height:100%; display:block;
  object-fit:contain; object-position:center;
  background:#fff;
}
